<div class="row dt-row-form anunturi-info-form" id="anunturi-info-form">
	<div class="anunturi-details col-xs-11 pull-right">
		 <table class="table " id="table-anunturi">
		 	<thead>
		 		<th style="width: 5% !important;">#</th> 
		 		<th>Denumire anunț</th> 
		 		<th style="width: 5% !important;">Acțiuni</th> 
		 	</thead>
		 	<tbody>
			 	<?php foreach($anunturi as $key => $anunt): ?>
			 		<tr>
			 			<td style="text-align: center"> 
				 			<a href="#" class="btn btn-default show-modalitati" data-id = "<?php echo $anunt->id; ?>"><i class="fa fa-plus"></i></a> 
			 			</td>
				 		<td><a href="#" data-pk="<?php echo $anunt->id; ?>" data-url="<?php echo URL::route('nomenclator-anunt-update'); ?>" data-name="nume" class="code" data-type="text" data-value="<?php echo $anunt->nume; ?>"></a>
	                    </td>
			 			<td> 
	 				       	<a href=""><i class="fa fa-eraser text-red"></i> 
		 				       <span class="text-red">Ştergere</span>
	 				       	</a>
			 			</td>
			 		</tr>
				<?php endforeach; ?>
		 	</tbody>
		 </table>
	</div>
</div>
<link href="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/css/bootstrap-editable.css" rel="stylesheet"/>
<script src="//cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.0/bootstrap3-editable/js/bootstrap-editable.min.js"></script>
<script type="text/javascript">
	jQuery(document).ready(function($) {
		 $('.code').editable({ 
		 	mode: 'inline' 
		 });

		var dt_anunt = $('#table-anunturi').DataTable({
			dom: ''
		});

		 $('.show-modalitati').click(function(event) {
			var dt = dt_anunt;
			var tr = $(this).closest('tr');
			var row = dt.row( tr );
			if ( row.child.isShown() ) 
	        {
	        	$(this).find('i').switchClass('fa-minus','fa-plus', 1000, 'easeInOutQuad')
	            row.child.hide();
	            tr.removeClass('shown');
	        }
	        else 
	        {
	        	$(this).find('i').switchClass('fa-plus','fa-minus', 1000, 'easeInOutQuad')
	        	var id_tip_anunt = $(this).data('id');
				$.ajax({
					url      : 'anunt-get-modalitati',
					type     : 'post',
					dataType : 'json',
					data     : { id_tip_anunt : id_tip_anunt },
					success  : function(result)
					{
						row.child( result.html ).show();
	           			tr.addClass('shown');
					} 
				});
	        }
		}); 
	});
</script>